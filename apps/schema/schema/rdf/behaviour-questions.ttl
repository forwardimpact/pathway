@prefix fit: <https://www.forwardimpact.team/schema/rdf/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

# =============================================================================
# Behaviour Questions Schema
# =============================================================================
# Stakeholder simulation interview questions for assessing behaviours,
# organized by role type (professional/management) and maturity level.
# Each question presents a realistic stakeholder scenario with simulation
# prompts to guide the interview panel.
# =============================================================================

# -----------------------------------------------------------------------------
# Properties
# -----------------------------------------------------------------------------

fit:forBehaviour a rdf:Property ;
    rdfs:label "forBehaviour"@en ;
    rdfs:comment "The behaviour this question assesses"@en ;
    rdfs:domain fit:Question ;
    rdfs:range fit:Behaviour .

fit:atMaturity a rdf:Property ;
    rdfs:label "atMaturity"@en ;
    rdfs:comment "The behaviour maturity this question is for"@en ;
    rdfs:domain fit:Question ;
    rdfs:range fit:BehaviourMaturity .

fit:simulationPrompts a rdf:Property ;
    rdfs:label "simulationPrompts"@en ;
    rdfs:comment "Guiding prompts to steer the stakeholder simulation and probe the candidate's behaviour"@en ;
    rdfs:domain fit:Question ;
    rdfs:range xsd:string .

# =============================================================================
# SHACL SHAPES
# =============================================================================

# -----------------------------------------------------------------------------
# Behaviour Question Shape
# -----------------------------------------------------------------------------

fit:BehaviourQuestionShape a sh:NodeShape ;
    sh:targetClass fit:Question ;
    sh:property [
        sh:path fit:id ;
        sh:datatype xsd:string ;
        sh:pattern "^[a-z][a-z0-9_]*$" ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:name "id" ;
        sh:description "Unique question identifier" ;
    ] ;
    sh:property [
        sh:path fit:text ;
        sh:datatype xsd:string ;
        sh:maxLength 300 ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:name "text" ;
        sh:description "The stakeholder scenario (under 300 characters)" ;
    ] ;
    sh:property [
        sh:path fit:context ;
        sh:datatype xsd:string ;
        sh:maxCount 1 ;
        sh:name "context" ;
        sh:description "Additional context to set up the simulation scenario" ;
    ] ;
    sh:property [
        sh:path fit:simulationPrompts ;
        sh:datatype xsd:string ;
        sh:minCount 2 ;
        sh:maxCount 5 ;
        sh:name "simulationPrompts" ;
        sh:description "3-5 guiding prompts to steer the simulation" ;
    ] ;
    sh:property [
        sh:path fit:lookingFor ;
        sh:datatype xsd:string ;
        sh:minCount 2 ;
        sh:maxCount 4 ;
        sh:name "lookingFor" ;
        sh:description "2-4 indicators of strong behavioural response" ;
    ] ;
    sh:property [
        sh:path fit:expectedDurationMinutes ;
        sh:datatype xsd:integer ;
        sh:minInclusive 10 ;
        sh:maxCount 1 ;
        sh:name "expectedDurationMinutes" ;
        sh:description "Expected duration in minutes (default: 20)" ;
    ] ;
    sh:property [
        sh:path fit:followUps ;
        sh:datatype xsd:string ;
        sh:maxCount 3 ;
        sh:name "followUps" ;
        sh:description "1-3 probing questions for deeper exploration" ;
    ] ;
    sh:property [
        sh:path fit:forBehaviour ;
        sh:datatype xsd:string ;
        sh:pattern "^[a-z][a-z0-9_]*$" ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:name "forBehaviour" ;
        sh:description "The behaviour this question assesses (behaviour ID)" ;
    ] ;
    sh:property [
        sh:path fit:atMaturity ;
        sh:in ( fit:emerging fit:developing fit:practicing fit:role_modeling fit:exemplifying ) ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:name "atMaturity" ;
        sh:description "The behaviour maturity this question is for" ;
    ] ;
    sh:property [
        sh:path fit:forRoleType ;
        sh:in ( fit:professional fit:management ) ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:name "forRoleType" ;
        sh:description "The role type this question is for" ;
    ] .
